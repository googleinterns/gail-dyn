 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_0818.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_feat_tmp0820_2  --seed 50202 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95


python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1" \
--load-dir trained_models_Gdyn_laika_bullet_soft23gt_feat_0/ppo --render 1 --non-det 1 --train_dyn 1 \
--behavior_dir trained_models_laika_bullet_23/ppo --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0 \
--load-dis 0 --seed 1099  --enlarge_act_range 1 --act_noise 0 --obs_noise 0


det dynamics, non-det motor
  python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1"  \
  --load-dir trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo --render 0 --non-det 1 --train_dyn 1 \
   --behavior_dir trained_models_laika_bullet_23/ppo --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0 \
    --load-dis 1 --seed 1099  --enlarge_act_range 0 --act_noise 0 --obs_noise 0 --pretrain_dyn 0 --cuda-env 0
0.37594079971313477
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -18.9	x: 1.79	tr_ave: -0.2
0.44395798444747925
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -16.1	x: 2.07	tr_ave: -0.2
0.4498460590839386
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -23.8	x: 1.89	tr_ave: -0.3
0.48497846722602844
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -21.3	x: 3.33	tr_ave: -0.2
0.45832499861717224
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -18.9	x: 1.78	tr_ave: -0.3
0.4819261133670807
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -20.2	x: 2.38	tr_ave: -0.2
0.4731708765029907
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -16.2	x: 1.24	tr_ave: -0.3
0.466117262840271
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -18.4	x: 2.29	tr_ave: -0.2
0.48321059346199036
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -23.0	x: 3.38	tr_ave: -0.2
0.47247570753097534
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -21.9	x: 3.20	tr_ave: -0.2
0.49555808305740356
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -20.3	x: 3.27	tr_ave: -0.2
0.46302151679992676
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -22.0	x: 3.61	tr_ave: -0.2
0.4663196802139282
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -5.8	x: 0.19	tr_ave: -0.3
0.36868685483932495
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -8.1	x: 0.59	tr_ave: -0.2
0.43847501277923584
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -7.9	x: 0.17	tr_ave: -0.3
0.523447573184967
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -6.2	x: 0.40	tr_ave: -0.2
0.4132964015007019
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -10.5	x: 0.20	tr_ave: -0.4
0.4061146080493927
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: -10.7	x: 1.35	tr_ave: -0.2

python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1"  \
 --load-dir trained_models_laika_bullet_23/ppo  --render 0  --non-det 0  --load-dis 0  --seed 109 --enlarge_act_range 0 \
  --act_noise 0 --obs_noise 0  --save-traj 0  --src-env-name "LaikagoBulletEnv-v1" \
  --dyn-dir trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo --train-dyn 0 --cuda-env 0

0.5856189
trained_models_laika_bullet_23/ppo	tr: 1170.8	x: 5.52	tr_ave: 8.2
0.5920636
trained_models_laika_bullet_23/ppo	tr: 927.1	x: 4.17	tr_ave: 7.5
0.59265876
trained_models_laika_bullet_23/ppo	tr: 879.5	x: 3.60	tr_ave: 7.4
0.6127739
trained_models_laika_bullet_23/ppo	tr: 1002.7	x: 4.46	tr_ave: 7.8
0.5977122
trained_models_laika_bullet_23/ppo	tr: 1226.6	x: 5.47	tr_ave: 8.3
0.6126633
trained_models_laika_bullet_23/ppo	tr: 1112.6	x: 4.64	tr_ave: 8.1
0.614917
trained_models_laika_bullet_23/ppo	tr: 887.4	x: 3.51	tr_ave: 7.5
0.60887915
trained_models_laika_bullet_23/ppo	tr: 1144.0	x: 5.23	tr_ave: 8.2
0.59316444
trained_models_laika_bullet_23/ppo	tr: 1081.9	x: 4.93	tr_ave: 8.0
0.6078873
trained_models_laika_bullet_23/ppo	tr: 998.6	x: 4.32	tr_ave: 7.9



# simplified: det dynamics, non-det motor
python -m third_party.a2c_ppo_acktr.enjoy_simple_debug --env-name "LaikagoConFEnv-v3"  \
 --load-dir trained_models_laika_bullet_23/ppo  --render 0  --non-det 1  --load-dis 0  --seed 109  \
  --src-env-name "LaikagoBulletEnv-v1"   --dyn-dir trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo \
  --train-dyn 0 --cuda-env 0

trained_models_laika_bullet_23/ppo	tr: 0.0	x: 33.54	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 16.05	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 31.32	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 30.65	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 29.64	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 30.50	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 31.64	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 18.14	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 32.34	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 32.61	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 31.76	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 10.31	tr_ave: 0.0
trained_models_laika_bullet_23/ppo	tr: 0.0	x: 10.25	tr_ave: 0.0

| loading policy from trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo/LaikagoConFEnv-v1.pt
| loading policy from trained_models_laika_bullet_23/ppo/LaikagoBulletEnv-v1.pt

| loading policy from trained_models_laika_bullet_23/ppo/LaikagoBulletEnv-v1.pt
| loading policy from trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo/LaikagoConFEnv-v1.pt


python -m third_party.a2c_ppo_acktr.enjoy_simple_debug --env-name "LaikagoConFEnv-v3"  \
  --load-dir trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo --render 0 --non-det 0 --train_dyn 1 \
     --behavior_dir trained_models_laika_bullet_23/ppo --behavior_env_name "LaikagoBulletEnv-v1" --seed 109 \
      --cuda-env 0 --src-env-name "LaikagoConFEnv-v1"
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 30.41	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 28.80	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 12.09	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 8.69	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 12.96	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 15.66	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 9.57	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 29.80	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 23.01	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 30.66	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 21.90	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 29.57	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 29.76	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 4.20	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 14.28	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 3.56	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 21.86	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 19.60	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 27.67	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 26.33	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 31.63	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 29.51	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 5.62	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 28.28	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 28.96	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 24.77	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 6.80	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 31.13	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 28.77	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 27.51	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 26.13	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 29.52	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 28.71	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 8.32	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 30.62	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 10.61	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 30.32	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 4.17	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 8.54	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 20.33	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 12.16	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 30.25	tr_ave: 0.0
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 0.0	x: 15.09	tr_ave: 0.0



python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1" \
  --load-dir trained_models_laika_bullet_23/ppo  --render 0  --non-det 1  --load-dis 0  --seed 109 \
  --enlarge_act_range 0   --act_noise 0 --obs_noise 0  --save-traj 0  --src-env-name "LaikagoBulletEnv-v1" \
    --dyn-dir trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo --train-dyn 0 --cuda-env 0
pybullet build time: Jun 19 2020 04:01:58
| loading policy from trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo/LaikagoConFEnv-v1.pt
| loading gail discriminator from trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo/LaikagoConFEnv-v1_D.pt
| loading policy from trained_models_laika_bullet_23/ppo/LaikagoBulletEnv-v1.pt
0.24101123
trained_models_laika_bullet_23/ppo	tr: 5851.0	x: 33.54	tr_ave: 11.7
0.3123258
trained_models_laika_bullet_23/ppo	tr: 3322.6	x: 16.05	tr_ave: 10.7
0.27057034
trained_models_laika_bullet_23/ppo	tr: 5790.5	x: 31.32	tr_ave: 11.6
0.21684466
trained_models_laika_bullet_23/ppo	tr: 5895.8	x: 30.65	tr_ave: 11.8
0.22591425
trained_models_laika_bullet_23/ppo	tr: 5831.8	x: 29.64	tr_ave: 11.7
0.23901588
trained_models_laika_bullet_23/ppo	tr: 5852.4	x: 30.50	tr_ave: 11.7
0.2331255
trained_models_laika_bullet_23/ppo	tr: 5911.9	x: 31.64	tr_ave: 11.8
0.28792
trained_models_laika_bullet_23/ppo	tr: 3719.9	x: 18.14	tr_ave: 10.9
0.21139127
trained_models_laika_bullet_23/ppo	tr: 5907.1	x: 32.34	tr_ave: 11.8
0.23447369
trained_models_laika_bullet_23/ppo	tr: 5856.2	x: 32.61	tr_ave: 11.7
0.25726023
trained_models_laika_bullet_23/ppo	tr: 5782.7	x: 31.76	tr_ave: 11.6
0.38627416
trained_models_laika_bullet_23/ppo	tr: 2158.6	x: 10.31	tr_ave: 9.6


python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1" \
   --load-dir trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo --render 1 --non-det 0 --train_dyn 1 \
      --behavior_dir trained_models_laika_bullet_23/ppo --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0   \
        --load-dis 1 --seed 109  --enlarge_act_range 0 --act_noise 0 --obs_noise 0 --pretrain_dyn 0 --cuda-env 0
pybullet build time: Jun 19 2020 04:01:58
| loading policy from trained_models_laika_bullet_23/ppo/LaikagoBulletEnv-v1.pt
| loading policy from trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo/LaikagoConFEnv-v1.pt
| loading gail discriminator from trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo/LaikagoConFEnv-v1_D.pt
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5760.1	x: 30.80	tr_ave: 11.5
0.2821581959724426
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5749.5	x: 27.07	tr_ave: 11.5
0.2726302444934845
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5758.4	x: 28.95	tr_ave: 11.5
0.2689461410045624
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5915.1	x: 29.29	tr_ave: 11.8
0.21546542644500732
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5831.6	x: 30.60	tr_ave: 11.7
0.23953767120838165
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5814.5	x: 29.50	tr_ave: 11.6
0.25069379806518555
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5829.0	x: 27.31	tr_ave: 11.7
0.2672834098339081
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 3296.7	x: 17.70	tr_ave: 10.6
0.3191380202770233
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5783.8	x: 32.14	tr_ave: 11.6
0.2473677396774292
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5800.7	x: 29.29	tr_ave: 11.6
0.2613261938095093
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5167.8	x: 25.96	tr_ave: 11.3
0.3294726312160492
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5714.9	x: 28.30	tr_ave: 11.4
0.29588842391967773
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 3373.6	x: 18.35	tr_ave: 10.8
0.27085453271865845
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5713.3	x: 29.34	tr_ave: 11.4
0.2639370858669281
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 4999.0	x: 25.86	tr_ave: 11.4
0.2602770924568176
trained_models_Gdyn_laika_bullet_soft23gt_tmptmp/ppo	tr: 5832.4	x: 32.49	tr_ave: 11.7


# 0819 14:15
# multi-step init
# slightly random laika init (no randomness in real data though)

python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" --num-steps 1500 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 --num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay --gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_0818_2.pkl" --save-dir trained_models_Gdyn_laika_bullet_soft23gt_0818_0  --seed 60000 --gail-traj-num 150 --train_dyn 1 --gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" --behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 --gail_downsample_frequency 1 --gamma 0.95



python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1" \
--load-dirtrained_models_Gdyn_laika_bullet_soft23gt_0818_0/ppo --render 1 --non-det 1 --train_dyn 1 \
--behavior_dir trained_models_laika_bullet_23/ppo --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0 \
--load-dis 0 --seed 1099  --enlarge_act_range 1 --act_noise 0 --obs_noise 0


# only using 2 samples per batch
# (multiple both loss with 0.1, seems fine for adam)
python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" --num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 --num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay --gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" --save-dir trained_models_Gdyn_laika_bullet_soft23gt_feat_tmp0820_3_all_smallgloss  --seed 50202 --gail-traj-num 199 --train_dyn 1 --gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" --behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 --gail_downsample_frequency 1 --gamma 0.95

# only grad pen loss
python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" --num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 --num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay --gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" --save-dir trained_models_Gdyn_laika_bullet_soft23gt_all_gradpen  --seed 50202 --gail-traj-num 199 --train_dyn 1 --gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" --behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 --gail_downsample_frequency 1 --gamma 0.95

# normal loss, grad pen weight 1, normal batch size
python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" --num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 --num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay --gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" --save-dir trained_models_Gdyn_laika_bullet_soft23gt_all_gradpen1  --seed 50202 --gail-traj-num 199 --train_dyn 1 --gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" --behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 0 --gail_downsample_frequency 1 --gamma 0.95
# grad pen 1 does not seem to work...

# normal gail
python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoBulletEnv-v1" --algo ppo --use-gae --log-interval 10 --num-steps 2000 --num-processes 2 --lr 3e-4 --entropy-coef 0 --value-loss-coef 0.5 --ppo-epoch 10 --num-mini-batch 32 --gamma 0.99 --gae-lambda 0.95 --num-env-steps 10000000 --use-linear-lr-decay --gail --gail-traj-path "./laika_23_normalfloor_n100.pkl" --save-dir trained_models_laika_bullet_15_gail_tmp --seed 30000 --gail-traj-num 99

# normal gail few data batch
python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoBulletEnv-v1" --algo ppo --use-gae --log-interval 10 --num-steps 2000 --num-processes 2 --lr 3e-4 --entropy-coef 0 --value-loss-coef 0.5 --ppo-epoch 10 --num-mini-batch 32 --gamma 0.99 --gae-lambda 0.95 --num-env-steps 10000000 --use-linear-lr-decay --gail --gail-traj-path "./laika_23_normalfloor_n100.pkl" --save-dir trained_models_laika_bullet_15_gail_tmp_few --seed 30000 --gail-traj-num 99



# since large batch seems not helpful...
# max length 150
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 150 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 8 --num-env-steps 10000000 --use-linear-lr-decay --ppo-epoch 4 \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_1_few  --seed 50101 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95 --gail-batch-size 8
# not really working

# max length 500
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_1_few2  --seed 50102 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 1 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95 --gail-batch-size 4

# max length 500 (old data)
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_split.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_1_few2  --seed 50102 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 1 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.95 --gail-batch-size 4


# reward * 5
# small batch size, no grad pen, max 200 grad updates


# reward normalize
# old gail
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms  --seed 50200 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.95

# clip 0.01
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms_clipD  --seed 50201 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95


# clip 0.02
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms_clipD  --seed 50202 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95


# clip 0.04
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms_clipD04  --seed 50203 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95

# clip 0.1
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms_clipD1  --seed 50205 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95

# adpative alive bonus
# old gail
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms_ab  --seed 50300 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95

# reward normalize
# adpative alive bonus
# airl reward
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms_ab_airl  --seed 50301 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.95

# reward normalize
# adpative alive bonus
# airl reward
# low power init
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoActFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_lowpower_n200.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_low23gt_rew_rms_ab_airl  --seed 50401 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 64  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.95



# reward normalize
# maybe can change gamma back
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_2.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_rew_rms_ab_airl_gamma99  --seed 50310 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.99


08-24 20:54
# feat with q, rotation matrix, no dq
# rew_rms_ab_airl_gamma99
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_feat_wq.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq  --seed 50320 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.99

python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1" \
   --load-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq/ppo --render 1 --non-det 1 --train_dyn 1 \
      --behavior_dir trained_models_laika_bullet_23/ppo --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0   \
        --load-dis 0 --seed 109  --enlarge_act_range 1 --act_noise 0 --obs_noise 0 --pretrain_dyn 1 --cuda-env 0


08-24 23:24
# larger D
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_softfloor_n200_feat_wq.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq_2  --seed 50321 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.99 --gail-dis-hdim 200

08-25 10:41
# behavior 36 (new gap)
#             dq = dq / 5.0       # void pi 23
# max_fz = approx_mass * 9.81 * 3  # 3mg
# num_of_expert_dones = (args.num_steps * args.num_processes) / 200.0

 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_36_softfloor_n200_feat_wq.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft36gt_featwq  --seed 50330 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_36/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 200  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.99 --gail-dis-hdim 200

python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1" \
   --load-dir trained_models_Gdyn_laika_bullet_soft36gt_featwq/ppo --render 1 --non-det 1 --train_dyn 1 \
      --behavior_dir trained_models_laika_bullet_36/ppo --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0   \
        --load-dis 0 --seed 109  --enlarge_act_range 1 --act_noise 0 --obs_noise 0 --pretrain_dyn 1 --cuda-env 0



08-25 13:40
# lower power dq gap
# feat wq
# gamma 0.95
# larger D
# fix soft reset
# num_of_expert_dones = (args.num_steps * args.num_processes) / 100.0
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoActFEnv-v1" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_23_lowpower_dq_n200.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_lowdq23gt_featwq  --seed 50410 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_23/ppo" \
--behavior_env_name "LaikagoBulletEnv-v1" --hidden_size 64  --enlarge_act_range 1 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.95

08-26 14:00
# gail-dyn, hard act gap...
# num_of_expert_dones = (args.num_steps * args.num_processes) / 200.0
 python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoActFEnv-v2" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_43_lowpower_dq_n200.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_lowdq43gt --seed 50601 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_43/ppo" \
--behavior_env_name "LaikagoBulletEnv-v2" --hidden_size 100  --enlarge_act_range 0.25 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.99


# try finetune
# self.logstd = AddBias(torch.ones(num_outputs) * -1)
python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoActFEnv-v2" --save-interval 5 --log-interval 5 \
--num-steps 1000 --num-processes 8 --lr 1.5e-4 --entropy-coef 0 --ppo-epoch 4 --entropy-coef 0.00 \
--num-mini-batch 16 --num-env-steps 1000000 --use-linear-lr-decay --clip-param 0.1 \
--train_dyn 0  --dyn_dir  trained_models_Gdyn_laika_bullet_lowdq43gt/ppo \
--save-dir trained_models_laika_bullet_43_lowdq_FTGAIL --seed 51700  \
--warm-start "./trained_models_laika_bullet_43/ppo/LaikagoBulletEnv-v2.pt" \
--act_noise 0 --obs_noise 0 --enlarge_act_range 0 --dyn-iter 450


08-27 23:13
# test Error on policy generated trajs vs. error on expert trajs.

 python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1"  \
   --load-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo --render 1 --non-det 1 \
   --train_dyn 1       --behavior_dir trained_models_laika_bullet_23/ppo \
   --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0         \
     --load-dis 0 --seed 109  --enlarge_act_range .25 --act_noise 0 --obs_noise 0 --pretrain_dyn 1 \
     --cuda-env 0

trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -22.5	x: 1.41	tr_ave: -0.35
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -41.9	x: 5.03	tr_ave: -0.30
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -23.6	x: 1.36	tr_ave: -0.37
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -19.2	x: 0.95	tr_ave: -0.38
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -44.6	x: 4.00	tr_ave: -0.34
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -15.6	x: 0.69	tr_ave: -0.31
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -39.1	x: 2.24	tr_ave: -0.46
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -26.1	x: 2.54	tr_ave: -0.30
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -26.9	x: 2.00	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -18.0	x: 0.89	tr_ave: -0.35
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -10.5	x: 0.12	tr_ave: -0.44
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -55.5	x: 5.20	tr_ave: -0.34
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -12.5	x: 0.50	tr_ave: -0.34
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -19.6	x: 1.42	tr_ave: -0.31
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -21.5	x: 1.44	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -28.7	x: 2.36	tr_ave: -0.32
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -67.5	x: 5.42	tr_ave: -0.36
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -21.4	x: 1.18	tr_ave: -0.35
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -6.6	x: 0.12	tr_ave: -0.31
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -13.3	x: 0.49	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -14.0	x: 0.60	tr_ave: -0.32

  python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v2"  \
   --load-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo --render 1 --non-det 1 \
   --train_dyn 1       --behavior_dir trained_models_laika_bullet_23/ppo \
   --behavior_env_name "LaikagoBulletEnv-v1" --save-traj 0         \
     --load-dis 0 --seed 109  --enlarge_act_range .25 --act_noise 0 --obs_noise 0 --pretrain_dyn 1 \
     --cuda-env 0 --src-env-name "LaikagoConFEnv-v1"

trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -57.5	x: 5.99	tr_ave: -0.31
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -103.3	x: 12.56	tr_ave: -0.30
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -45.4	x: 4.23	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -23.3	x: 1.55	tr_ave: -0.32
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -46.4	x: 4.17	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -19.1	x: 1.27	tr_ave: -0.31
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -13.0	x: 0.53	tr_ave: -0.30
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -35.7	x: 2.80	tr_ave: -0.32
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -70.3	x: 7.12	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -32.4	x: 2.20	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -26.2	x: 2.18	tr_ave: -0.27
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -42.4	x: 3.59	tr_ave: -0.31
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -65.2	x: 7.03	tr_ave: -0.31
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -37.6	x: 2.68	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -34.6	x: 2.68	tr_ave: -0.29
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -17.8	x: 0.63	tr_ave: -0.35
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -36.2	x: 3.10	tr_ave: -0.28
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -48.7	x: 4.73	tr_ave: -0.30
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -27.4	x: 1.83	tr_ave: -0.35
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -52.5	x: 4.52	tr_ave: -0.33
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -14.9	x: 0.80	tr_ave: -0.32
trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo	tr: -17.7	x: 0.68	tr_ave: -0.30
ave:0.31


  python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1"  \
   --load-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo --render 0 --non-det 1 \
   --train_dyn 1       --behavior_dir trained_models_laika_bullet_23_soft_GailDyn_featwq_2/ppo --behavior-iter 20 \
   --behavior_env_name "LaikagoConFEnv-v1" --save-traj 0         \
     --load-dis 0 --seed 109  --enlarge_act_range .25 --act_noise 0 --obs_noise 0 --pretrain_dyn 1 \
     --cuda-env 0

ave 0.35

  python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1"  \
   --load-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo --render 0 --non-det 1 \
   --train_dyn 1       --behavior_dir trained_models_laika_bullet_23_soft_GailDyn_featwq_2/ppo --behavior-iter 40 \
   --behavior_env_name "LaikagoConFEnv-v1" --save-traj 0         \
     --load-dis 0 --seed 109  --enlarge_act_range .25 --act_noise 0 --obs_noise 0 --pretrain_dyn 1 \
     --cuda-env 0
ave 0.38


  python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v1"  \
   --load-dir trained_models_Gdyn_laika_bullet_soft23gt_featwq_2/ppo --render 0 --non-det 1 \
   --train_dyn 1       --behavior_dir trained_models_laika_bullet_23_soft_GailDyn_featwq_2/ppo --behavior-iter 60 \
   --behavior_env_name "LaikagoConFEnv-v1" --save-traj 0         \
     --load-dis 0 --seed 109  --enlarge_act_range .25 --act_noise 0 --obs_noise 0 --pretrain_dyn 1 \
     --cuda-env 0
ave 0.40


08-30 17:32
.apply_scale_clip_conf_from_pi_new
  python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v3" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_48_softfloor_n200_wos.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft48gt_new0 --seed 51010 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_48/ppo" \
--behavior_env_name "LaikagoBulletEnv-v3" --hidden_size 64  --enlarge_act_range 0.25 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.99 --gail-dis-hdim 100 --gail-tar-length 120

08-30 21:13
.apply_scale_clip_conf_from_pi_new
        for p in self.fc_mean.parameters():
            p.data = p.data / 50.0
Gen hid 100
  python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v3" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_48_softfloor_n200_wos.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft48gt_new1 --seed 51011 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_48/ppo" \
--behavior_env_name "LaikagoBulletEnv-v3" --hidden_size 100  --enlarge_act_range 0.25 --cuda_env 1 \
--gail_downsample_frequency 1 --gamma 0.99 --gail-dis-hdim 100 --gail-tar-length 120

08-30 23:23
.apply_scale_clip_conf_from_pi_new
        self.logstd = AddBias(torch.ones(num_outputs) * -1)

        for p in self.fc_mean.parameters():
            p.data = p.data / 50.0
   python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v3" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_48_softfloor_n200_wos.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft48gt_new2 --seed 51012 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_48/ppo" \
--behavior_env_name "LaikagoBulletEnv-v3" --hidden_size 100  --enlarge_act_range 0.25 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.99 --gail-dis-hdim 100 --gail-tar-length 120

08-30 23:29
apply_scale_clip_conf_from_pi_new
fz = (this_con_f[0] + 1) / 2.0 * max_fz
   python -m third_party.a2c_ppo_acktr.main --env-name "LaikagoConFEnv-v3" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_48_softfloor_n200_wos.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft48gt_new3 --seed 51013 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_48/ppo" \
--behavior_env_name "LaikagoBulletEnv-v3" --hidden_size 100  --enlarge_act_range 0.25 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.99 --gail-dis-hdim 100 --gail-tar-length 120

python -m third_party.a2c_ppo_acktr.enjoy --env-name "LaikagoConFEnv-v3" \
   --load-dir trained_models_Gdyn_laika_bullet_soft48gt_new3/ppo --render 1 --non-det 1 --train_dyn 1 \
      --behavior_dir trained_models_laika_bullet_48/ppo --behavior_env_name "LaikagoBulletEnv-v3" --save-traj 0   \
        --load-dis 0 --seed 109  --enlarge_act_range 0. --act_noise 0 --obs_noise 0 --pretrain_dyn 0 --cuda-env 0



   python -m third_party.a2c_ppo_acktr.main_gail_dyn_ppo --env-name "LaikagoConFEnv-v3" \
--num-steps 1000 --num-processes 8 --lr 3e-4 --entropy-coef 0.01 \
--num-mini-batch 16 --num-env-steps 10000000 --use-linear-lr-decay \
--gail --gail-dyn --gail-traj-path "./laika_48_softfloor_n200_wos.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_soft48gt_new3_tmp --seed 51013 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_48/ppo" \
--behavior_env_name "LaikagoBulletEnv-v3" --hidden_size 100  --enlarge_act_range 0.25 --cuda_env 0 \
--gail_downsample_frequency 1 --gamma 0.99 --gail-dis-hdim 100 --gail-tar-length 120


09-02 15:25
# actf v4 init
# D
    s_idx = np.array([0, 3])
    a_idx = np.array([0, 3])
# G
        self.generator_past_obs_t_idx = [0, 3]
        self.generator_past_act_t_idx = [0, 3]
# B: self.behavior_past_obs_t_idx = [0, 3, 6, 9]

python -m third_party.a2c_ppo_acktr.main_gail_dyn_ppo --env-name "LaikagoActFEnv-v4" --num-steps 1000 \
--num-processes 8 --lr 3e-4 --entropy-coef 0.01 --num-mini-batch 16 --num-env-steps 10000000 \
--use-linear-lr-decay --gail-traj-path "./laika_53_lowpower_n200.pkl" \
--save-dir trained_models_Gdyn_laika_bullet_low53gt --seed 52000 --gail-traj-num 199 --train_dyn 1 \
--gail-epoch 5 --act_noise 0 --obs_noise 0 --behavior-dir "trained_models_laika_bullet_53/ppo" \
--behavior_env_name "LaikagoBulletEnv-v4" --enlarge_act_range 0.35 --cuda_env 1 --gail_downsample_frequency 1 \
--gamma 0.99 --gail-tar-length 100